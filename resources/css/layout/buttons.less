
.btn-mixin(@bgColor, light) {
    color: @white !important;
    .box-shadow(inset 0 0 18px rgba(0, 0, 0, .15));

    .btn-mixin-common(@bgColor);
}

.btn-mixin(@bgColor, dark) {
    color: @veryDarkGrey !important;
    .box-shadow(inset 0 0 18px rgba(0, 0, 0, .15));

    .btn-mixin-common(@bgColor);

    &[disabled] {
        text-shadow: 0 0 4px rgba(0, 0, 0, 0.6);
    }
}

.btn-mixin-common(@bgColor) {
    background-color: @bgColor;
    border: 1px solid mix(@grey, @bgColor);

    &:hover,
    &:focus,
    &:active {
        text-decoration: none !important;
        background-color: darken(@bgColor, 10%);
    }

    &[disabled] {
        @disabledColor: mix(@grey, darken(@bgColor, 10%), 20%);
        background: @disabledColor;
        cursor: default;
        color: @veryLightGrey !important;

        &:hover {
            background: @disabledColor;
        }
    }
}

a.btn,
button,
input[type="button"],
input[type="submit"],
input[type="reset"] {
    .round-border(4px);
    font-size: @defaultFontSize;
    font-weight: bold;
    cursor: pointer;
    padding:  0.4em 0.67em;
    margin: 0.2em;
    text-align: center;
    vertical-align: middle;
    white-space: nowrap;
    display: inline-block;
    -moz-outline-style: none;
    line-height: @fontBaseLine;
    background: 0;
    .transition(background-color 0.2s);
    .transition(background-image 0.2s);

    &.small {
        font-size: (@defaultFontSize * 0.85);
        padding:  0.2em 0.67em;
    }

    &.large {
        font-size: (@defaultFontSize * 1.25);
        font-weight: normal;
        padding:  0.4em 0.67em;
    }

    &.close {
        float: right;
        font-size: (@defaultFontSize * 1.25);
        font-weight: bold;
        line-height: 1;
        background: none;
        border: none;
        color: @darkGrey !important;
        .box-shadow(none);
        text-shadow: 0 1px 0 #fff;

        &:hover {
            background: @veryLightGrey;
            color: @darkGrey !important;
            border: none;
            text-decoration: none;
            cursor: pointer;
            opacity: .5;
        }

        // Additional properties for button version
        // iOS requires the button element instead of an anchor tag.
        // If you want the anchor version, it requires `href="#"`.
        button& {
            padding: 0;
            cursor: pointer;
            background: transparent;
            border: 0;
            -webkit-appearance: none;
        }
    }

    .btn-mixin(@coolBlue, light);

    &.primary {
        .btn-mixin(mix(@darkBlue, @coolBlue), light);
    }

    &.grey {
        .btn-mixin(@veryLightGrey, dark);
    }

    &.orange {
        .btn-mixin(#EE9933, light);
    }

    &.red {
        .btn-mixin(#DD4433, light);
    }

    &.green {
        .btn-mixin(mix(@oliveGreen, @brightOliveGreen), light);
    }
}
